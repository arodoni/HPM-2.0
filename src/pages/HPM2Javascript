<!-- Zuora Public javascript library -->
<script type="text/javascript" src="http://<host address>/apps/Hosted/Sample/zuora.js"/></script>
 
<!-- optional json params in case prepopulation of certain fields is desired-->
<!-- Sample implementation for the type of credit card.For information regarding other types, kindly refer to the readme file->
var prepopulateFields = {
    creditCardAddress1:"", // refers to the credit card address which will reflect in the iframe
    creditCardAddress2:"", // refers to the credit card address which will reflect in the iframe
    creditCardCountry:"", // refers to the credit card country which will reflect in the iframe
    creditCardState:"", // refers to the credit card state which will reflect in the iframe
    creditCardHolderName:"" // refers to the credit card holder name which will reflect in the iframe
};
 
// Sample JSON params for rendering iframe on client side
//tenant id is used to identify a tenant.Each tenant will have a unique id
// id field refers to the pageId 
// token field refers to the token generated from the CORS api call.
// signature field refers to the digital signature generated by CORS api call.
// style field refers to the way in which the iframe can be displayed on the screen(inline or overlay).
// key refers to the key generated from the configuration(ui). 
var params = {
    tenantId:"", <!-- mandatory -->
    id:"", <!-- pageId-->
    token:"", <!-- token from step 1-->
    signature:"",
    style:"<inline or overlay>", <!-styling -inline or overlay -->
    key:"",
    submitEnabled:"true"/"false", //optional
    locale:"", //optional defaults to configuration if resource bundle is not found
    url:"<hosted page url from the configuration>"
};
 
//Call to js library function
Z.render(
  params,<!-- required -->
  prepopulateFields,<!-- optional -->
  function(refId) {   <!-- callback to handle successful response - optional if redirectUrl is provided-->
        if(response.success) {
            var redirectUrl = "<callback url for configuration>?refId="+response.refId;
            window.location.replace(redirectUrl);
        } else {
            var redirectUrl = "<callback url for configuration>?errorCode="+response.errorCode + "&errorMessage="+response.errorMessage;
            window.location.replace(redirectUrl);
        }
  });
 
//expected div tag in client page
<div id="zuora_payment"></div>
